<div class="footer__newsletter" style="padding: {{ block.settings.newsletter_section_padding }}px; margin-bottom: {{ block.settings.newsletter_section_margin }}px;{% if block.settings.newsletter_bg_image != blank %}background-image: url('{{ block.settings.newsletter_bg_image | img_url: 'master' }}'); background-size: cover; background-position: center;{% endif %}">
  <h3 class="footer__title footer__newsletter-title">{{ block.settings.newsletter_title }}</h3>
  <p class="footer__newsletter-text">{{ block.settings.newsletter_text }}</p>
  {% form 'customer', id: form_id %}
    {% if form.errors %}
      <div class="footer__newsletter-error">{{ block.settings.newsletter_error_message | default: form.errors | default_errors }}</div>
    {% endif %}
    {% if form.posted_successfully? %}
      <div class="footer__newsletter-success">{{ block.settings.newsletter_success_message }}</div>
    {% else %}
      <input type="hidden" name="contact[tags]" value="newsletter">
      <div class="footer__newsletter-form">
        {% if block.settings.newsletter_show_name %}
          <input type="text" name="contact[first_name]" class="footer__newsletter-input" placeholder="Your name">
        {% endif %}
        <input type="email" name="contact[email]" id="newsletter-{{ form_id }}" class="footer__newsletter-input" value="{{ form.email }}" placeholder="{{ block.settings.newsletter_placeholder }}" required>
        <button type="submit" class="footer__newsletter-button" name="commit">
          {% if block.settings.newsletter_button_icon == 'arrow' %}
            <svg width="20" height="20" fill="none" viewBox="0 0 20 20"><path d="M5 10h10m0 0l-4-4m4 4l-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          {% elsif block.settings.newsletter_button_icon == 'plus' %}
            <svg width="20" height="20" fill="none" viewBox="0 0 20 20"><path d="M10 5v10m5-5H5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          {% elsif block.settings.newsletter_button_icon == 'custom' and block.settings.newsletter_button_custom_svg != blank %}
            <svg width="20" height="20" fill="none" viewBox="0 0 20 20">{{ block.settings.newsletter_button_custom_svg }}</svg>
          {% else %}
            {{ block.settings.newsletter_button_text }}
          {% endif %}
        </button>
      </div>
    {% endif %}
  {% endform %}
</div> 