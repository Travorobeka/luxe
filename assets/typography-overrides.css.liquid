{% comment %}
  Typography Override System - Streamlined Version
  Applies comprehensive typography customizations from theme settings
{% endcomment %}

{%- liquid
  assign override_enabled = settings.enable_typography_override
  assign override_inline = settings.override_inline_styles
  
  if override_inline
    assign important = ' !important'
  else
    assign important = ''
  endif
-%}

{% if override_enabled %}
/* ============================================
   TYPOGRAPHY OVERRIDE SYSTEM - OPTIMIZED
   ============================================ */

/* Base Typography Variables */
:root {
  /* Font Sizes */
  --heading-font-size-h1: {{ settings.h1_font_size }}px;
  --heading-font-size-h2: {{ settings.h2_font_size }}px;
  --heading-font-size-h3: {{ settings.type_header_base_size }}px;
  --heading-font-size-h4: {{ settings.h4_font_size }}px;
  --heading-font-size-h5: {{ settings.h5_font_size }}px;
  --heading-font-size-h6: {{ settings.h6_font_size }}px;
  --text-font-size-base: {{ settings.type_base_size }}px;
  --text-line-height: {{ settings.type_base_line_height }}px;
  
  /* Global Typography Settings */
  --global-text-transform: {{ settings.global_text_transform }};
  --global-text-align: {{ settings.global_text_align }};
  
  /* Heading Styles */
  --heading-font-weight: {{ settings.heading_font_weight }};
  --heading-letter-spacing: {{ settings.heading_letter_spacing }}px;
  --heading-text-transform: {{ settings.heading_text_transform }};
  --heading-margin-bottom: {{ settings.heading_margin_bottom }}px;
  
  /* Body Text Styles */
  --body-font-weight: {{ settings.body_font_weight }};
  --body-letter-spacing: {{ settings.body_letter_spacing }}px;
  --paragraph-margin-bottom: {{ settings.paragraph_margin_bottom }}px;
}

/* ============================================
   GLOBAL TEXT STYLES
   ============================================ */

/* Apply global text alignment and transform */
{% if settings.global_text_align != 'inherit' %}
body * {
  text-align: var(--global-text-align){{ important }};
}
{% endif %}

{% if settings.global_text_transform != 'none' %}
body * {
  text-transform: var(--global-text-transform){{ important }};
}
{% endif %}

/* ============================================
   HEADING STYLES (H1-H6)
   ============================================ */

h1, .h1,
h2, .h2,
h3, .h3,
h4, .h4,
h5, .h5,
h6, .h6,
[class*="heading"],
[class*="title"] {
  {% if settings.heading_font_weight != 'inherit' %}
  font-weight: var(--heading-font-weight){{ important }};
  {% endif %}
  letter-spacing: var(--heading-letter-spacing){{ important }};
  {% if settings.heading_text_transform != 'inherit' %}
  text-transform: var(--heading-text-transform){{ important }};
  {% endif %}
  margin-bottom: var(--heading-margin-bottom){{ important }};
}

/* Individual heading sizes */
h1, .h1 {
  font-size: var(--heading-font-size-h1){{ important }};
}

h2, .h2 {
  font-size: var(--heading-font-size-h2){{ important }};
}

h3, .h3 {
  font-size: var(--heading-font-size-h3){{ important }};
}

h4, .h4 {
  font-size: var(--heading-font-size-h4){{ important }};
}

h5, .h5 {
  font-size: var(--heading-font-size-h5){{ important }};
}

h6, .h6 {
  font-size: var(--heading-font-size-h6){{ important }};
}

/* ============================================
   BODY TEXT STYLES
   ============================================ */

p, 
li, 
td, 
th,
span,
div,
[class*="text"],
[class*="description"],
[class*="content"] {
  {% if settings.body_font_weight != 'inherit' %}
  font-weight: var(--body-font-weight){{ important }};
  {% endif %}
  letter-spacing: var(--body-letter-spacing){{ important }};
}

p {
  font-size: var(--text-font-size-base){{ important }};
  line-height: var(--text-line-height){{ important }};
  margin-bottom: var(--paragraph-margin-bottom){{ important }};
}

/* ============================================
   SPECIFIC COMPONENT OVERRIDES
   ============================================ */

/* Product Cards */
.product-card__title,
.card__heading,
[class*="product"] [class*="title"] {
  {% if settings.heading_font_weight != 'inherit' %}
  font-weight: var(--heading-font-weight){{ important }};
  {% endif %}
  letter-spacing: var(--heading-letter-spacing){{ important }};
}

/* Section Headers */
.section-header__title,
[class*="section"] > h1,
[class*="section"] > h2,
[class*="section"] > h3 {
  margin-bottom: var(--heading-margin-bottom){{ important }};
}

/* Lists */
ul, ol {
  margin-bottom: var(--paragraph-margin-bottom){{ important }};
}

li {
  font-size: var(--text-font-size-base){{ important }};
  line-height: var(--text-line-height){{ important }};
}

/* ============================================
   RESPONSIVE TYPOGRAPHY
   ============================================ */

@media screen and (max-width: 749px) {
  :root {
    /* Reduce font sizes on mobile by 15% */
    --heading-font-size-h1: {{ settings.h1_font_size | times: 0.85 }}px;
    --heading-font-size-h2: {{ settings.h2_font_size | times: 0.85 }}px;
    --heading-font-size-h3: {{ settings.type_header_base_size | times: 0.85 }}px;
    --heading-font-size-h4: {{ settings.h4_font_size | times: 0.85 }}px;
    --heading-font-size-h5: {{ settings.h5_font_size | times: 0.9 }}px;
    --heading-font-size-h6: {{ settings.h6_font_size | times: 0.9 }}px;
    --text-font-size-base: {{ settings.type_base_size | times: 0.9 }}px;
    
    /* Adjust spacing on mobile */
    --heading-margin-bottom: {{ settings.heading_margin_bottom | times: 0.8 }}px;
    --paragraph-margin-bottom: {{ settings.paragraph_margin_bottom | times: 0.8 }}px;
  }
}

@media screen and (min-width: 1920px) {
  :root {
    /* Increase font sizes on large screens by 10% */
    --heading-font-size-h1: {{ settings.h1_font_size | times: 1.1 }}px;
    --heading-font-size-h2: {{ settings.h2_font_size | times: 1.1 }}px;
    --heading-font-size-h3: {{ settings.type_header_base_size | times: 1.05 }}px;
    --heading-font-size-h4: {{ settings.h4_font_size | times: 1.05 }}px;
  }
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

/* Force specific typography styles */
.force-heading-style {
  font-size: var(--heading-font-size-h2){{ important }};
  {% if settings.heading_font_weight != 'inherit' %}
  font-weight: var(--heading-font-weight){{ important }};
  {% endif %}
  letter-spacing: var(--heading-letter-spacing){{ important }};
  {% if settings.heading_text_transform != 'inherit' %}
  text-transform: var(--heading-text-transform){{ important }};
  {% endif %}
}

.force-body-style {
  font-size: var(--text-font-size-base){{ important }};
  {% if settings.body_font_weight != 'inherit' %}
  font-weight: var(--body-font-weight){{ important }};
  {% endif %}
  letter-spacing: var(--body-letter-spacing){{ important }};
  line-height: var(--text-line-height){{ important }};
}

/* Reset utility for exceptions */
.typography-reset {
  font-weight: inherit !important;
  letter-spacing: normal !important;
  text-transform: none !important;
  text-align: inherit !important;
}

{% endif %}